(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48,6155],{34940:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[...pagePath]",function(){return n(36855)}])},36855:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__N_SSP:()=>I,default:()=>P,getSeoServerSideProps:()=>k});var a=n(37876),s=n(75134),r=n(82407),l=n(77328),o=n.n(l),i=n(45105),c=n.n(i),u=n(35475),d=n(36547),p=n(49944),_=n(81052),m=n(10597),g=n(32192),h=n(64164),x=n(8214);let A={GetRobotsContent:async function e(){var e,t;let n=(0,x.UU)();n=(0,x.d$)(n);let a="/Presentation/GetRobotContent";(0,h.A)("url was called",a);let s=await n.get(a);return(null==s||null==(t=s.data)||null==(e=t.result)?void 0:e.content)||console.log(s),s.data.result.content}},f={GetSitemapContent:async function e(e){let t=(0,x.UU)();t=(0,x.d$)(t);let n="/Presentation/GetSitemapContent?Url=".concat(encodeURIComponent(e));return(0,h.A)("url was called",n),(await t.get(n)).data.result.content}};var v=n(85110),w=n(41606),j=n(63669),y=n(68721),C=n(56926),U=n(21801),I=!0;function P(e){var t,n,l;let{layout:i,meta:x,query:A}=e;(0,g.As)(),(0,w.A)();let f=null!=(n=r.A.get("Departure"))?n:null,I=null!=(l=r.A.get("Locale"))?l:v.Un.NEXT_PUBLIC_DEFAULT_LANGUAGE;if((0,U.LV)(x)){if((0,U.aR)(f)&&(0,U.LV)(x.departures)&&(0,U.zl)(x.departures)){let e=x.departures.find(e=>!0===e.isCurrent);(0,U.LV)(e)&&r.A.set("Departure",null==e?void 0:e.id,{path:"/"})}if((0,U.jk)(f)){let e=(0,C.I)(f);r.A.set("Departure",e,{path:"/"})}r.A.set("TrackingId",x.correlation,{path:"/"})}return(0,h.A)("...pagePath.tsx",{layout:i,meta:x,query:A}),(0,h.A)("ssr page ",A),(0,h.A)("cookie departure ",f),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{meta:x}),(0,a.jsx)(()=>{if(v.Un.NEXT_PUBLIC_MAP_PROVIDER===j.B.yandex){let e="https://api-maps.yandex.ru/v3/?apikey=".concat(v.Un.NEXT_PUBLIC_YANDEX_MAP_API_KEY,"&lang=").concat((0,y.B)(I,"_"));return(0,a.jsxs)(o(),{children:[(0,a.jsx)("script",{src:e,defer:!0}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n        (function() {          \n          // This is now just a diagnostic helper for debugging\n          const checkYmapsLoaded = () => {\n            if (window.ymaps3) {\n              console.log('[Yandex Maps] Successfully loaded Yandex Maps v3');\n              return true;\n            }\n            return false;\n          };\n          \n          // Try immediately\n          if (!checkYmapsLoaded()) {\n            // Set a few checks to see when it loads\n            let attempts = 0;\n            const checkInterval = setInterval(() => {\n              attempts++;\n              if (checkYmapsLoaded() || attempts > 20) {\n                clearInterval(checkInterval);\n              }\n            }, 200);\n          }\n        })();\n      "}})]})}return(0,a.jsx)(a.Fragment,{})},{}),(0,a.jsx)(_.A,{layout:i,meta:x,query:A}),(0,a.jsx)(u.A,{meta:x}),(0,a.jsx)(p.A,{tags:null==x?void 0:x.bodyTags}),(0,a.jsx)(m.default,{popups:null==x?void 0:x.popups}),(null==x||null==(t=x.pageUrl)?void 0:t.startsWith("/preview/"))?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{src:"/image-scaler.js",defer:!0}),(0,a.jsx)(s.A,{})]}):(0,a.jsx)(a.Fragment,{})]})}let k=async(e,t)=>{let n="";return"/sitemap.xml"===t||/sitemap([a-z0-9-]+)*.xml$/.test(t)?(e.setHeader("Content-Type","text/xml"),n=await f.GetSitemapContent(t)):(null==t?void 0:t.startsWith("/robots"))&&(e.setHeader("Content-Type","text/plain"),n=decodeURIComponent(await A.GetRobotsContent())),n.length>=0&&(e.write(n),e.end()),{props:{}}}},56926:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});let a=e=>e.replace(/--$/,"")}},e=>{var t=t=>e(e.s=t);e.O(0,[6593,6603,518,4511,7911,8683,173,5623,8805,1338,2416,3596,9672,6223,6477,1266,8036,1921,6621,8033,8186,9439,6401,4045,6502,1616,1219,8102,1065,2378,3065,274,2486,1389,636,8792],()=>t(34940)),_N_E=e.O()}]);